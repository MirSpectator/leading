<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>

	<body>
	</body>

	<script>
		
		
		
		
		/*
		 * 时间相加减得出差值
		 */
		function time_add_subtract(date1, date2) {
			var date1 = new Date(date1)
			var date2 = new Date(date2)
			var s1 = date1.getTime(),
				s2 = date2.getTime();
			var total = (s2 - s1) / 1000;
			var day = parseInt(total / (24 * 60 * 60)); //计算整数天数
			var afterDay = total - day * 24 * 60 * 60; //取得算出天数后剩余的秒数
			var hour = parseInt(afterDay / (60 * 60)); //计算整数小时数
			var afterHour = total - day * 24 * 60 * 60 - hour * 60 * 60; //取得算出小时数后剩余的秒数
			var min = parseInt(afterHour / 60); //计算整数分
			var afterMin = total - day * 24 * 60 * 60 - hour * 60 * 60 - min * 60; //取得算出分后剩余的秒数
			console.log("计算整数天数" + day)
			console.log("计算整数小时数" + hour)
			console.log("计算整数分" + min)
			console.log("取得算出分后剩余的秒数" + afterMin)
			console.log("")
			console.log(s1)
			var s = []
			s.push(day)
			s.push(hour)
			s.push(min)
			s.push(afterMin)
			return s
		}

		/*
		 * 根据当前系统时间还要有限制
		 * 天数   @param(day)
		 * 小时   @param(hour)
		 * 分钟   @param(minute)
		 * 秒数   @param(second)
		 * 进行带天数的倒计时
		 */
		function count_down(day, hour, minute, second) {
			var times = new Date() //获取当前系统时间
			timer = setInterval(function() {
				if(times > 0) {
					day = Math.floor(times / (60 * 60 * 24));
					hour = Math.floor(times / (60 * 60)) - (day * 24);
					minute = Math.floor(times / 60) - (day * 24 * 60) - (hour * 60);
					second = Math.floor(times) - (day * 24 * 60 * 60) - (hour * 60 * 60) - (minute * 60);
				}
				if(day <= 9) day = '0' + day;
				if(hour <= 9) hour = '0' + hour;
				if(minute <= 9) minute = '0' + minute;
				if(second <= 9) second = '0' + second;
				console.log(day + "天:" + hour + "小时：" + minute + "分钟：" + second + "秒");
				times--;
			}, 1000);
			if(times <= 0) {
				clearInterval(timer);

			}
		}

		window.onload = timer(5,new Date());

		/* 时间跟天数相加减得出新的时间
		 * 要加减的天数 @param(days)
		 * 
		 * date参数是要进行加减的日期，
		 * days参数是要加减的天数，
		 * 如果往前算就传入负数，往后算就传入正数，
		 * 如果是要进行月份的加减，就调用setMonth()和getMonth（）就可以了，
		 * 需要注意的是返回的月份是从0开始计算的，
		 * 也就是说返回的月份要比实际月份少一个月，因此要相应的加上1。
		 */
		function times(days, date) {
			date.setDate(date.getDate() + days);
			var m = date.getMonth() + 1;
			return date.getFullYear() + '-' + m + '-' + date.getDate();
		}
		
		
		function time(days,date){
			date.setDate(date.getDate() + days);
			var m = date.getMonth() + 1;
		var enddate= date.getFullYear() + '-' + m + '-' + date.getDate();
		    var date1 = new Date(date)
			var date2 = new Date(enddate)
			var s1 = date1.getTime(),
				s2 = date2.getTime();
			var total = (s2 - s1) / 1000;
			var day = parseInt(total / (24 * 60 * 60)); //计算整数天数
			var afterDay = total - day * 24 * 60 * 60; //取得算出天数后剩余的秒数
			var hour = parseInt(afterDay / (60 * 60)); //计算整数小时数
			var afterHour = total - day * 24 * 60 * 60 - hour * 60 * 60; //取得算出小时数后剩余的秒数
			var minute = parseInt(afterHour / 60); //计算整数分
			var second = total - day * 24 * 60 * 60 - hour * 60 * 60 - min * 60; //取得算出分后剩余的秒数
			console.log("计算整数天数" + day)
			console.log("计算整数小时数" + hour)
			console.log("计算整数分" + minute)
			console.log("取得算出分后剩余的秒数" + second)
var times = new Date() //获取当前系统时间
			timer = setInterval(function() {
				if(times > 0) {
					day = Math.floor(times / (60 * 60 * 24));
					hour = Math.floor(times / (60 * 60)) - (day * 24);
					minute = Math.floor(times / 60) - (day * 24 * 60) - (hour * 60);
					second = Math.floor(times) - (day * 24 * 60 * 60) - (hour * 60 * 60) - (minute * 60);
				}
				if(day <= 9) day = '0' + day;
				if(hour <= 9) hour = '0' + hour;
				if(minute <= 9) minute = '0' + minute;
				if(second <= 9) second = '0' + second;
				console.log(day + "天:" + hour + "小时：" + minute + "分钟：" + second + "秒");
				times--;
			}, 1000);
			if(times <= 0) {
				clearInterval(timer);

			}
		}
	</script>

</html>